<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Unseemly : Macros have types!">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Unseemly</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/paulstansifer/unseemly">View on GitHub</a>

          <h1 id="project_title">Unseemly</h1>
          <h2 id="project_tagline">Macros have types!</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/paulstansifer/unseemly/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/paulstansifer/unseemly/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p><em>Unseemly is still missing some vital pieces. The text below is not yet true.</em>  </p>

<p>Unseemly is (to my knowledge) the first typed macro-based language.</p>

<p>Types are great! Macros are great! But they have historically not played well together.</p>

<h3>
<a id="typed-languages-and-macro-based-languages" class="anchor" href="#typed-languages-and-macro-based-languages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Typed languages and macro-based languages</h3>

<p>I like to divide the design of programming languages into two main threads. 
There are other, no-less-valid, ways of looking at them,
 but this one appeals to me.</p>

<p>One thread, the family of typed languages 
 includes the MLs and Haskell, as well as C++, Java, Rust, and so on.
Programmers in those languages use type systems
 to both describe data they are interested in and to express invariants.</p>

<p>The other, smaller, thread is macro-based languages.
These are mostly direct descendants of Lisp: Scheme, and Racket, etc.
(If you squint, the dynamic metaprogramming systems of Ruby and JavaScript
 make them part of the family, too.)
Programmers in those languages use metaprogramming to 
 abstract over surface syntax, control flow, and binding.</p>

<p>But if you write in a typed language, 
 you almost certainly hear the advice to use the macro system sparingly,
  if at all.
And Lisps (usually) lack a type system altogether.
Why?
Type errors in macro-generated code 
 are incredibly difficult to understand.</p>

<p>This is no small issue.
Type errors are the user interface of a typed language;
 the primary purpose of types is to produce useful error messages.</p>

<p>Rule that I just made up:
 If the programmer is responsible for generated code,
  code generation is not an abstraction.</p>

<h3>
<a id="unseemly" class="anchor" href="#unseemly" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Unseemly</h3>

<p>(Here's where I start making bold claims,
  which could all be undone 
   if there's a theoretical error in Unseemly's design.
 But the vast majority of Unseemly
  is stolen from existing languages or at least existing research.)</p>

<p>In Unseemly, macros always generate typesafe code,
 so macros feel solid, like Scheme macros,
  and the typechecker can only complain about the code you wrote.</p>

<p>And Unseemly doesn't cheap out on the macro or type systems!
The macro system is procedural, hygienic, and has access to syntax quotation.
The type system is algebraic, sound (I hope!), and has access to pattern-matching.</p>

<p>If I'm making this sound magic, it's not; 
 it relies on the macro definitions being well-typed,
  just like code normally relies on libraries being well-typed.
Well, there's a lot of technical stuff behind-the-scenes,
 but, like I said, it's mostly stolen.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Unseemly maintained by <a href="https://github.com/paulstansifer">paulstansifer</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
